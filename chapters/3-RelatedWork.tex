\chapter{Related Work}
This chapter presents relevant research within this thesis' research scope. The main emphasis is on research done on security and privacy on air quality monitors, but it is also relevant to look at security and privacy issues for \gls{IoT} devices as a larger scope of research is published on this topic and similar \gls{IoT} devices holds many of the same functionality and vulnerabilities.

\section{Security and Privacy Issues of Air Quality Monitors}
Considering security in air quality monitors, the standard and functionality varies \cite{AQMHowFarFunctionality}. Some vendors of air quality monitors use secure communication channels and authentication to access data, while others do not have authentication enabled to collect data from their devices. However, as technology evolves to support more efficient and greater computing power for the air quality monitors, it becomes easier to develop and implement stronger security. One the other side, air quality monitors are beginning to become more popular as they are increasing in functionality on which sensors they have implemented, and therefore the focus on security have been down-prioritized \cite{SecurityAndDataIntInAQM}.

A research by Sivaraman et al. \cite{IoTSecurityandPrivacyImpl} tested several security parameters on different \gls{IoT} devices which included two types of air quality monitors, Awair Air Monitor and Netatmo Weather Station. The devices confidentiality, integrity, authentication, access control and a reflection attack were tested. In the tests for confidentiality, both the devices passed. However for the integrity and authentication tests both air quality monitors failed tests for \gls{DNS} security and \gls{DNS} spoofing. Netatmo Weather station passed the applicable tests for access control, but the Awair Air Monitor had open ports for \gls{TCP} and \gls{UDP} and were vulnerable for \gls{ICMP} and \gls{UDP} distributed denial of service attacks. The Awair Air Monitor were also vulnerable for ICMP Reflection attacks \cite{IoTSecurityandPrivacyImpl}. The results of this research emphasizes the need to investigate the same \gls{IoT} devices from different vendors as they can expose private information differently even though they have the same functionality. 

A low-cost air quality monitoring system, called a.com, is analyzed in \cite{SecurityAndDataIntInAQM} by Luo et al. The authors used a \gls{HTTPS} proxy tool called mitmproxy to analyze the security, data integrity, architecture, and communication of a.com. Their results shows that this particular system use unencrypted communication and \gls{MAC} addresses to identify the sensors. Two attacks were carried out, man-in-the middle and populating false data in the communication link. These vulnerabilities are a big security challenge, as it is possible for an attacker to falsify any a.com device if spoofing their \gls{MAC} address \cite{SecurityAndDataIntInAQM}. To be able to do a man-in-the-middle attack, an active sniffer is used and the result shows security vulnerabilities for an air quality monitoring system for a more comprehensive attack than the passive network eavesdropping attack. 

A literature review by Zagi et al. \cite{PrivacyOnGeneralIoT} collects and presents the results of several \gls{IoT} privacy related articles. The comparison shows that \gls{IoT} devices have several privacy issues that needs to be addressed. Even though this research is not specifically on air quality monitors, it is applicable to general \gls{IoT} devices and therefore relevant to this master thesis. The research highlights that security in \gls{IoT} networks is a challenge. Since the devices communicate over different protocols, it is stated in the research that one standard secure channel for all devices is not realistic. Another security issue brought up is errors in configuration. Users often buy off-the-shelf devices and install themselves, which can lead to a weaknesses in the system. In addition, resource constraints in \gls{IoT} devices can effect the possibility and means to incorporate security features in the devices \cite{PrivacyOnGeneralIoT}. 

A risk when indoor \gls{AQM}s monitor users environment is that private information about users living, working or habits can be leaked \cite{IAQMonitorCommunicationReview}. A research by Zhao et al. \cite{IAQMonitorCommunicationReview} reviews several aspects of security in communication protocols for indoor air quality monitors. The change in \(CO_2\) in a users environment can reveal information about when a user is sleeping or working. Such information can be misused by a malicious attacker. The research investigated 91 papers and only 2 of them looked into the challenges and possible solutions to data privacy-related issues. The lack of research on security for \gls{AQM}s shows the need to provide more specific research on air quality monitors and their security and privacy issues. 

A decentralized framework for wireless communication protocols for air quality monitors is proposed by Mrissa et al. \cite{PrivacyAndFrameworkDecentAQM}. The framework uses encryption and onion routing technology to send data. The onions that transmit the packets do not access the encryption keys that encrypts the body of the onion, as the keys are only included in the last layer of the onion message. The framework can therefore protect against malicious attackers eavesdropping private information from the air quality monitors. The sensors nodes communicates with sink nodes that initiates the communication, which means that a change in the environment for the user will not result in data being transmitted immediately. Other techniques such as padding, data-link-layer encryption, timing intervals and randomized paths are also used to prevent eavesdropping \cite{PrivacyAndFrameworkDecentAQM}. However, it is not mentioned to what degree real-life air quality monitors use this framework. 

\section{Misusing of Private Information Using Data from \gls{IoT} Devices}
A research conducted in \cite{PassiveInferenceIoT} investigates one \gls{IoT} hub communicating with up to 16 different \gls{IoT} devices. The results showed that it is possible to infer up to 90\% of user behaviour with a passive attack. Even though the traffic between the devices and the hub were encrypted, they were able to infer the users action by comparing the users action with the observed encrypted application data sizes received by the gateway. 

Ziegeldorf et al. aims to classify different privacy threats and challenges for \gls{IoT} devices \cite{IoTPrivacyAndMisuse}. They suggest seven different categories, including: identification, localization and tracking, profiling, privacy-violating interaction and presentation, life-cycle transitions, inventory attack and at last, linkage. The threat of identification refers to collecting data about an individual that can be used to identify that person, such as an image, name or address. Location and tracking is stated as an important feature of \gls{IoT} systems and has become more specific and can also track users indoor activity. Collecting location data can also track the users behaviour and compare indoor and outdoor routines to forecast where a user is located. Since \gls{IoT} devices integrate as a part of our everyday life, profiling for directed and personal preferences can be gathered for misuse. Privacy-violating interaction and presentation is referred to as a threat more applicable to the future since this type of technology is not too common. However, identifying that presenting private information in a real-world environment is a privacy threat is important for the development of these services. For life-cycle threats, the research highlights that \gls{IoT} devices do not have established standards for total memory wipes or physical destruction, leaving possible private information stored history of private data. Inventory attacks combines information about \gls{IoT} devices and their characteristics and can be used by burglars to target potential victims. Lastly, the research states linkage between interconnected systems that shares data in a way that was not disclosed to the sources when they where isolated \cite{IoTPrivacyAndMisuse}. 

N. Apthorpe et al in \cite{VulEncIoTTraffic} proposes a three step strategy an attacker can carry out to passively network eavesdrop traffic from \gls{IoT} devices to infer private information. The attacker first have to identify the different \gls{IoT} devices in a smart home and recreate the smart home in its own environment. Then by doing normal user cases and looking at the variations from general traffic, it is possible to infer users private behaviour. However, the less functionality the devices have, the easier it is to infer the user behaviour as a change in traffic can correspond to the functionality being used \cite{VulEncIoTTraffic}. 

A research testing several smart home devices by Apthorpe et al. \cite{SpyingonSmartHomes} tested and revealed that it is possible to infer user behaviour based on traffic rates. Traffic analysis from an \gls{IoT} camera reveals when a user is actively looking at the camera stream and a sleep monitor were inferred to show when a user is sleeping. The research is based on traffic analysis of only traffic rate and headers. All the devices tested were encrypted \cite{SpyingonSmartHomes}. The same results were found by Apthorpe et al.\cite{WiFiSniffInfer} where the authors examined four different \gls{IoT} devices, a personal assistant, smart power outlet, sleep monitor and security camera. They used two different attack perspectives where one is outside of the network on a wired channel, and the other adversary is sniffing \gls{Wi-Fi} traffic. The \gls{Wi-Fi} sniffer is referred to a a neighbour or a strong radio receiver within signal range of the network. The results showed that it was possible to infer user behaviour easily by looking at changes in traffic patterns for the different devices \cite{WiFiSniffInfer}. 

Another research by Acar et al. \cite{PeakaBoo} shows that a passive network eavesdropping attack on several popular \gls{IoT} devices can reveal user behaviour in a targeted environment. The devices ranged from light bulbs and smart plugs to motion and camera sensors, but no air quality monitors were included in the test. The devices communicated over different communication protocols, such as \gls{Wi-Fi}, Bluetooth and ZigBee. Their method of analysing raw data was by using 4 stages: device identification, device state detection, device state classification and user activity inference. The results showed that they could infer user activity by a accuracy of 90\% \cite{PeakaBoo}. 

A method for network traffic analysis is suggested in \cite{NetAna} by Papadogiannaki and Ioannidis. They describe that to be able to infer user behaviour, a two-step process is required. First, the analyzer needs to know what normal network activity is and then compare it collect data when there are changes from the normal traffic is the network. To be able to distinguish normal events from abnormal events a machine or deep learning algorithm is proposed. Even though the research is aimed for benign actors, the same method can be used for malicious actors. It is important to understand that network sniffers can also be used by network administrators to prevent and detect attacks and protect its own network, as well as for malicious actors wanting to access private information about others. 